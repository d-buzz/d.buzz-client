!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).__dbuzzwidget=e()}(this,function(){"use strict";const g=window.document;const t=new function(){var o="dbuzz-share-button",e=/d\.buzz\/#\/intent\/buzz/;this.i=function(){var e=g.getElementsByClassName(o);for(let t=e.length;t--;)n(e[t],t)};const n=function(t,e){const n=l("iframe");var i=a(t),r="https://d.buzz/widgets/buzz_button.html#"+s(t,e);let u="position: static; visibility: visible;";u+="l"===i?"width: 76px; height: 28px;":"width: 60px; height: 20px;",n.setAttribute("id","dbuzz-widget-"+e),n.setAttribute("title","Dbuzz share button"),n.setAttribute("class",o),n.setAttribute("allowtransparency",!0),n.setAttribute("scrolling","no"),n.setAttribute("frameBorder",0),n.setAttribute("style",u),n.setAttribute("src",r),t.parentNode.insertBefore(n,t),t.remove()},s=function(t,e){t={original_referrer:b(location.href),id:"dbuzz-widget-"+e,text:b(c(t)),size:a(t),url:b(u(t)),tags:h(f(t).trim(),"#","")};let n="",i=[],r=0;return Object.entries(t).forEach(function(t){var[e,t]=t;t&&(n&&(n+="&"),n+=e+"={"+r+"}",i.push(t),r++)}),z(n,i)};function i(t,e){let n="";return(t=r(t,"href"))&&(t=(t=m(t))?t.input:"",(t=p(d(t)))&&t[e]&&(n=t[e])),n}const u=function(t){return i(t,"url")||r(t,"data-url")||location.href||""},c=function(t){return i(t,"text")||r(t,"data-text")||""},a=function(t){let e=i(t,"size")||r(t,"data-size")||"medium";return e=e.toLowerCase(),"large"==e||"medium"==e?e.charAt(0):"m"},f=function(t){return i(t,"tags")||r(t,"data-hashtags")||""},l=function(t){return g.createElement(t)},r=function(t,e){return t.getAttribute(e)},d=function(t){t=t&&t.split("?");return 2===t.length?t[1]:""},b=function(t){return encodeURIComponent(t)},h=function(t,e,n){return t?t.replace(e,n):""},p=function(t){let i={};return t?(t.split("&").forEach(function(t){var e=t.split("="),n=e[0],t=e[1];2===e.length&&(i[n]=decodeURIComponent(t))}),i):{}},z=function(t,n){return t.replace(/\{(\d+)\}/g,function(t,e){return n[e]||t})},m=function(t){return t.match(e)}};return t.i(),{init:function(){t.i()}}});