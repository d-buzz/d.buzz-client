!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).__dbuzzwidget=e()}(this,function(){"use strict";const A=window.document;const t=new function(){var o="dbuzz-share-button",e=/d\.buzz\/#\/intent\/buzz/;this.i=function(){var e=A.getElementsByClassName(o);for(let t=e.length;t--;)n(e[t],t)};const n=function(t,e){const n=h("iframe");var i=f(t),r="https://d.buzz/widgets/buzz_button.html#"+s(t,e);let u="position: static; visibility: visible;";u+="l"===i?"width: 76px; height: 28px;":"width: 60px; height: 20px;",n.setAttribute("id","dbuzz-widget-"+e),n.setAttribute("title","Dbuzz share button"),n.setAttribute("class",o),n.setAttribute("allowtransparency",!0),n.setAttribute("scrolling","no"),n.setAttribute("frameBorder",0),n.setAttribute("style",u),n.setAttribute("src",r),t.parentNode.insertBefore(n,t),t.remove()},s=function(t,e){t={original_referrer:b(location.href),id:"dbuzz-widget-"+e,text:b(a(t)),size:f(t),url:b(c(t)),tags:m(l(t).trim(),"#",""),min_chars:parseInt(d(t)),origin_app_name:u()};let n="",i=[],r=0;return Object.entries(t).forEach(function(t){var[e,t]=t;t&&(n&&(n+="&"),n+=e+"={"+r+"}",i.push(t),r++)}),g(n,i)};function i(t,e){let n="";return(t=r(t,"href"))&&(t=(t=w(t))?t.input:"",(t=z(p(t)))&&t[e]&&(n=t[e])),n}const u=function(){return A.title||location.hostname||"The site/app you are buzzing from"},c=function(t){return i(t,"url")||r(t,"data-url")||location.href||""},a=function(t){return i(t,"text")||r(t,"data-text")||""},f=function(t){let e=i(t,"size")||r(t,"data-size")||"medium";return e=e.toLowerCase(),"large"==e||"medium"==e?e.charAt(0):"m"},l=function(t){return i(t,"tags")||r(t,"data-hashtags")||""},d=function(t){return i(t,"min_chars")||r(t,"data-min-chars")||0},h=function(t){return A.createElement(t)},r=function(t,e){return t.getAttribute(e)},p=function(t){t=t&&t.split("?");return 2===t.length?t[1]:""},b=function(t){return encodeURIComponent(t)},m=function(t,e,n){return t?t.replace(e,n):""},z=function(t){let i={};return t?(t.split("&").forEach(function(t){var e=t.split("="),n=e[0],t=e[1];2===e.length&&(i[n]=decodeURIComponent(t))}),i):{}},g=function(t,n){return t.replace(/\{(\d+)\}/g,function(t,e){return n[e]||t})},w=function(t){return t.match(e)}};return t.i(),{init:function(){t.i()}}});