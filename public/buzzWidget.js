!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).__dbuzzwidget=e()}(this,function(){"use strict";const g=window.document;const t=new function(){var u="dbuzz-share-button",e=/localhost\:3000\/intent\/buzz/;this.i=function(){var e=g.getElementsByClassName(u);for(let t=e.length;t--;)n(e[t],t)};const n=function(t,e){const n=f("iframe");var i=a(t),r="http://localhost:3000/widgets/buzz_button.html#"+s(t,e);let o="position: static; visibility: visible;";o+="l"===i?"width: 76px; height: 28px;":"width: 60px; height: 20px;",n.setAttribute("id","dbuzz-widget-"+e),n.setAttribute("title","Dbuzz share button"),n.setAttribute("class",u),n.setAttribute("allowtransparency",!0),n.setAttribute("scrolling","no"),n.setAttribute("frameBorder",0),n.setAttribute("style",o),n.setAttribute("src",r),t.parentNode.insertBefore(n,t),t.remove()},s=function(t,e){t={original_referrer:h(location.href),id:"dbuzz-widget-"+e,text:h(c(t)),size:a(t),url:h(o(t)),tags:l(t).trim()};let n="",i=[],r=0;return Object.entries(t).forEach(function(t){var[e,t]=t;t&&(n&&(n+="&"),n+=e+"={"+r+"}",i.push(t)),r++}),m(n,i)};function i(t,e){let n="";return(t=r(t,"href"))&&(t=(t=p(t))?t.input:"",(t=b(d(t)))&&t[e]&&(n=t[e])),n}const o=function(t){return i(t,"url")||r(t,"data-url")||location.href||" "},c=function(t){var e=g.querySelector("meta[name=description]");return i(t,"text")||r(t,"data-text")||e&&r(e,"content")||" "},a=function(t){let e=i(t,"size")||r(t,"data-size")||"medium";return e=e.toLowerCase(),"large"==e||"medium"==e?e.charAt(0):"m"},l=function(t){return i(t,"tags")||r(t,"data-hashtags")||" "},f=function(t){return g.createElement(t)},r=function(t,e){return t.getAttribute(e)},d=function(t){t=t&&t.split("?");return 2===t.length?t[1]:""},h=function(t){return encodeURIComponent(t)},b=function(t){let i={};return t?(t.split("&").forEach(function(t){var e=t.split("="),n=e[0],t=e[1];2===e.length&&(i[n]=decodeURIComponent(t))}),i):{}},m=function(t,n){return t.replace(/\{(\d+)\}/g,function(t,e){return n[e]||t})},p=function(t){return t.match(e)}};return t.i(),{init:function(){t.i()}}});